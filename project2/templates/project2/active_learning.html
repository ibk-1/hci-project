{% extends "base.html" %}
{% load static %}

{% block title %}Active-Learning Demo{% endblock %}



{% block content %}
<div class="container my-4">

<h1>Pool-based Active Learning</h1>

<div class="alert alert-secondary mb-4">
  <h5 class="mb-1">About this page</h5>
  <p class="mb-1">
    This tool demonstrates <strong>active learning</strong> for text classification.
  </p>
  <ul class="mb-1">

    <li><strong>Active learning:</strong> Instead of labeling all data, the system queries examples step by step, and you provide labels interactively. The model retrains after each step, showing how accuracy improves with fewer labels.</li>
    <li>This shows the benefit of active learning: <em>better models with less labeling effort.</em></li>
  </ul>
</div>

<style>
  #al-overlay.htmx-request{
    position:fixed;inset:0;background:rgba(255,255,255,.6);
    display:flex;flex-direction:column;justify-content:center;align-items:center;
    z-index:1050;
  }
</style>
<div id="al-overlay" class="htmx-indicator">
  <div class="spinner-border" role="status"></div>
  <p class="mt-3 fw-semibold">Preparing queryâ€¦</p>
</div>

<!-- Settings -->
<form hx-post="{% url 'project2:active_learning' %}"
      hx-target="#al-panel"
      hx-swap="innerHTML"
      hx-indicator="#al-overlay">
  {% csrf_token %}
  {{ settings_form.as_p }}
  <button class="btn btn-primary" name="start_session" value="1">Start session</button>
</form>

<hr>

<!-- Everything else swaps into this div -->
<div id="al-panel">
  {% if error %}<div class="alert alert-warning">{{ error }}</div>{% endif %}
  <p class="text-muted">
    Configure options, then click <em>Start session</em>.
  </p>
</div>

</div>
{% endblock %}
